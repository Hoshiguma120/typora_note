#                                                         应用层

[toc]



## 简介：

应用层是互联网存在的意义，所有的协议最终的目的都是为了向应用层服务，通过不同程序之间通过相同的交流方式（协议），借助传输层提供的服务，之间可以实现信息传递。

## 体系结构：

- C-S结构：即客户端服务端结构，有一个总是打开的服务器，处理其他客户主机的请求。数据在服务端，通常情况下，服务端要有一个大的数据中心，才能有效处理客户请求，==缺点==：扩展性差，当用户数量逐渐增加，如果超过某个阈值时，服务端服务质量就会断崖式下降。维护成本高；==优点==：集中管理，安全性高。典型应用：谷歌，Facebook，阿里等。
- P2P结构：（peer to peer）对等体结构。数据在每一个用户上，每个用户之间是一个相同的个体，当用户下载时，那他就是客户端吗，当用户数据被其他用户请求时，那它就是服务端。==优点==：可扩展性强，当用户数量增加时，服务质量并不会下降。==缺点==：安全性。典型应用：BitTorrent,Skype,区块链等。



## 进程通信：

进程：一个运行在端系统的程序，进程通信就是在进行的程序之间的相互通信。在同一个端系统之间的进程通信由==操作系统==解决，不同端系统之间的进程通信通过跨越计算机网络交换报文而相互通信。

网络应用程序由成对的进程组成，通常将传输数据的成为服务器，接受数据的成为客户端在C-S结构，服务器和客户端关系通常不变，而在P2P体系结构之中，一个进程既可以是客户端又可以是服务器。

## Socket API (套接字应用程序接口)

### 简介：进程与传输层的软件接口，应用层与传输层之间的桥梁。

#### 进程寻址：进程之间相互通信，需要知道对方主机IP，以及对方进程所在端口号。

#### 作用：由于进程之间相互通信每次都要IP 端口，对方IP，对方端口，为了简化，将IP和端口联系在一起，从而加快通信速度。（Tcp是将自身IP，自身端口，对方IP，对方端口封装一起，所以应用层之间建立联系之后只需要发送信息；Udp是将自身IP，自身端口相绑定，所以每次发送信息时，还需要指定对方IP，端口）

## 运输层能向应用层提供的服务：

- 可靠数据传输
- 吞吐量
- 定时
- 安全性

### TCP/UDP

#### TCP特点：

- 面向连接，即传输数据之间需要握手提醒客户服务器之间做好准备
- 可靠的数据传输，对应用层体验出无错序，无差错
- 对整个链路层，可以实现拥塞控制
- 由于传输之前需要握手，所以比之UDP而言较慢

#### UDP特点：

- 无连接-->不可靠
- 不需要握手，快
- 不能实现可靠传输

#### ==注：==TCP/UDP本身都无法提供安全性服务，但是TCP可以通过SSL加强其安全性（在握手时，互相传输公钥，之后的明文加密后传输，接受方用自己的私钥解密）









